Everything was done correctly except one thing: when two keys controlling the same axis are pressed, the movement must be cancelled.
